<article
  class="group bg-white dark:bg-custom-black-light rounded-xl overflow-hidden shadow-lg hover:shadow-glow transition-all duration-300 border border-gray-200 dark:border-gray-800 hover:border-primary cursor-pointer"
  [routerLink]="['/projects', project.slug]">

  <div class="relative h-56 overflow-hidden bg-beige dark:bg-custom-black">
    <img [src]="project.thumbnail" [alt]="project.title"
      class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />

    <div
      class="absolute inset-0 bg-gradient-to-t from-custom-black/90 via-custom-black/0 to-custom-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
      <div class="absolute bottom-4 right-4 flex gap-2">
        @if (project.githubUrl) {
        <a [href]="project.githubUrl" target="_blank" rel="noopener noreferrer" (click)="$event.stopPropagation()"
          class="w-10 h-10 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full flex items-center justify-center text-white hover:bg-primary hover:border-primary transition-colors"
          [attr.aria-label]="'GitHub do projeto ' + project.title">
          <mat-icon class="text-xl flex items-center justify-center"
            style="font-size: 1.5rem; line-height: 1.5rem;">code</mat-icon>
        </a>
        }
        @if (project.liveUrl) {
        <a [href]="project.liveUrl" target="_blank" rel="noopener noreferrer" (click)="$event.stopPropagation()"
          class="w-10 h-10 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full flex items-center justify-center text-white hover:bg-primary hover:border-primary transition-colors"
          [attr.aria-label]="'Ver ' + project.title + ' ao vivo'">
          <mat-icon class="text-xl flex items-center justify-center"
            style="font-size: 1.5rem; line-height: 1.5rem;">launch</mat-icon>
        </a>
        }
      </div>
    </div>

    @if (project.featured) {
    <div class="absolute top-4 left-4">
      <span
        class="px-3 py-1 bg-primary text-white rounded-full text-xs font-semibold flex items-center gap-1 shadow-glow-sm">
        <mat-icon class="text-sm">star</mat-icon>
        Destaque
      </span>
    </div>
    }

    <div class="absolute top-4 right-4">
      <span class="px-3 py-1 rounded-full text-xs font-semibold" [ngClass]="getStatusClass(project.status)">
        {{ getStatusLabel(project.status) }}
      </span>
    </div>
  </div>

  <div class="p-6">
    <div class="flex items-center gap-2 mb-3">
      <div class="w-7 h-7 bg-primary/10 dark:bg-primary/20 rounded-lg flex items-center justify-center">
        <mat-icon class="text-primary text-lg !leading-none !m-0 p-0 flex items-center justify-center"
          style="display: flex; align-items: center; justify-content: center; height: 1.25rem; width: 1.25rem; line-height: 1;">{{
          getCategoryIcon(project.category) }}</mat-icon>
      </div>
      <span class="text-sm font-bold text-primary uppercase tracking-wide flex items-center h-7"
        style="line-height: 1;">
        {{ getCategoryLabel(project.category) }}
      </span>
    </div>

    <h3
      class="text-xl font-bold text-custom-black dark:text-white mb-2 group-hover:text-primary transition-colors line-clamp-1">
      {{ project.title }}
    </h3>

    <p class="text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2">
      {{ project.shortDescription }}
    </p>

    <div class="flex flex-wrap gap-2 mb-4">
      @for (tech of project.technologies.slice(0, 3); track tech) {
      <span
        class="px-2 py-1 bg-beige dark:bg-custom-black text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700 rounded text-xs">
        {{ tech }}
      </span>
      }
      @if (project.technologies.length > 3) {
      <span class="px-2 py-1 text-primary text-xs font-medium">
        +{{ project.technologies.length - 3 }}
      </span>
      }
    </div>

    <div class="flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700">
      <div class="flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400">
        <mat-icon class="text-sm">calendar_today</mat-icon>
        <span>{{ formatDate(project.startDate) }}</span>
      </div>

      <button class="text-primary font-medium text-sm flex items-center gap-1 group-hover:gap-2 transition-all">
        Ver Detalhes
        <mat-icon class="text-sm">arrow_forward</mat-icon>
      </button>
    </div>
  </div>
</article>